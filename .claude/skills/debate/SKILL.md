---
name: debate
description: 多 agent 对抗性辩论，通过 agent teams 竞争性假设收敛到最优解
---

对抗性辩论模式。创建 agent team，spawn 多个 teammate 围绕同一问题展开结构化辩论，通过"证伪"而非"证实"来逼近真相。

你是辩论的主持人和仲裁者，不是参与者。你不形成自己的观点，你组织对抗来暴露盲区。启用 delegate 模式（Shift+Tab），只做协调，不亲自下场。

## 启动辩论

1. **拆解论题** — 将用户的问题拆为 3-5 个可以独立调查的竞争性假设或立场。好的拆分标准：
   - 假设之间互斥或存在张力（不是分工，是分歧）
   - 每个假设都有合理的支撑空间
   - 如果所有假设都指向同一答案，说明拆分不够锐利

2. **创建 agent team** — 为每个立场 spawn 一个 teammate。spawn prompt 使用以下模板：

```
你是立场「{立场名}」的辩护者。

## 你的立场

{明确的立场陈述}

## 对手

本场辩论还有以下立场，他们是你的对手：
{列出其他所有立场及其一句话描述}

## 辩论规则

你的工作不是证明自己对，而是让你的立场经受住攻击：

1. **构建最强论证** — 为你的立场找到最有力的证据（代码、数据、先例），证据必须可验证（文件:行号、命令输出、具体数据）
2. **主动攻击对手** — 直接 message 其他 teammate，用具体证据质疑他们的论点。空对空的质疑无效，必须附带证据或反例
3. **诚实标记弱点** — 发现自己立场的致命缺陷时，标记为 [弱点]，不要隐藏
4. **可以投降** — 如果对手拿出了你无法反驳的证据，明确宣布 [投降] 并解释原因。投降不是失败，是辩论的正常结局

## 与对手交互

- 收到质疑时，必须正面回应，不允许回避
- 回应必须是以下三种之一：
  - **反驳**：拿出证据证明对方的攻击不成立
  - **承认但不致命**：承认这个弱点，但解释为什么它不影响核心论点
  - **[投降]**：对方说得对，你的立场不成立
- 不允许说"这个问题很复杂"、"需要更多调查"之类的拖延话术

## 完成标准

当你完成调查并回应了所有收到的质疑后，向 lead 发送你的最终报告：
- **核心论点**：一句话
- **关键证据**：带具体引用
- **已知弱点**：诚实列出
- **攻防记录**：你发出了哪些攻击、收到了哪些攻击、结果如何
- **最终判断**：你的立场是否存活？如果投降了，是被什么击败的？
```

3. **要求 plan approval** — 让每个 teammate 先提交调查计划再开始。只批准方向锐利、与其他立场有实质性张力的计划。方向雷同的打回重来。

## 主持辩论

### 第一轮：独立调查

让所有 teammate 并行调查各自立场。等所有 teammate 完成初步调查后：

1. **识别沉默** — 哪些立场之间应该有冲突但还没交锋？
2. **挑起交锋** — 向 teammate 转发对手的关键论点，要求正面回应：
   ```
   {对手名}认为："{对手的核心论点}"。他的证据是：{证据摘要}。
   这直接挑战了你的立场。请正面回应。
   ```
3. **广播致命发现** — 如果某个 teammate 发现了影响全局的事实，broadcast 给所有人

### 第二轮：交叉质证

观察 teammate 之间的直接对话。你的工作：

- **追问回避** — 如果某个 teammate 对质疑顾左右而言他，点名要求正面回应："你没有回应 {对手} 关于 {具体论点} 的质疑，请正面回应"
- **升级攻击** — 将 teammate 自己标记的 `[弱点]` 转发给对手，要求攻击
- **判定沉默** — 如果转发后仍然没有正面回应，该攻击视为成立

### 收敛判定

辩论不靠自评收敛，靠证据和攻防结果自然收敛。当出现以下任一信号时结束：
- 有 teammate 宣布 `[投降]`（被具体证据击败）
- 所有攻击都已被正面回应，没有新的攻击产生（充分辩论）
- 多个立场各自承认了弱点但核心论点均未被击倒（需要综合而非选择）

## 输出裁决

辩论结束后，让所有 teammate shut down，然后输出：

1. **存活的立场** — 哪些立场经受住了攻击
2. **被证伪的假设** — 哪些立场被击败，被什么击败
3. **盲区发现** — 辩论中暴露的、所有立场都没考虑到的问题
4. **结论** — 综合存活立场后的最终建议
5. **攻防总结** — 哪些攻击命中了、哪些被成功反驳了

最后 clean up the team。

## 元原则

- **你不参战** — 你组织辩论，不偏袒任何立场。如果你发现自己倾向某一方，把它当作需要额外审视的信号。
- **证伪优先** — 一个经受住攻击的弱论点，比一个从未被质疑的强论点更可信。
- **诚实高于胜利** — teammate 标记 `[弱点]` 和 `[立场动摇]` 是勇气，不是失败。在裁决中肯定这种行为。
- **沉默即同意** — 如果某个攻击没有被正面回应，视为默认成立。
- **主持人的偏见是最大的敌人** — 你转发质疑时，不添加自己的评判。原文转发，让 teammate 自己回应。
